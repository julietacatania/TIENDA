<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Mi Tienda de Ropa</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="styles-v2.css">
</head>

<body>

<header>
  <h1>Mi Tienda de Ropa</h1>
  <p>Moda online 췅 Argentina</p>
</header>

<nav>
  <a href="#">Inicio</a>
  <a href="#">Productos</a>
  <a href="#">Carrito (<span id="contador-carrito">0</span>)</a>
</nav>

<main>

  <h2>Productos destacados</h2>

  <section class="productos">

    <div class="producto">
      <h3>Remera b치sica</h3>
      <p>$12000</p>
      <button onclick="agregarAlCarrito('Remera b치sica', 12000)">
        Agregar al carrito
      </button>
    </div>

    <div class="producto">
      <h3>Buzo oversize</h3>
      <p>$25000</p>
      <button onclick="agregarAlCarrito('Buzo oversize', 25000)">
        Agregar al carrito
      </button>
    </div>

    <div class="producto">
      <h3>Pantal칩n cargo</h3>
      <p>$30000</p>
      <button onclick="agregarAlCarrito('Pantal칩n cargo', 30000)">
        Agregar al carrito
      </button>
    </div>

  </section>

  <section class="carrito">
    <h2>Carrito</h2>
    <ul id="lista-carrito"></ul>
    <p id="total"></p>

    <button onclick="comprar()">COMPRAR</button>
  </section>

</main>

<footer>
  <p>춸 2025 췅 Mi Tienda de Ropa 췅 Env칤os a toda Argentina</p>
</footer>

<script>
  // ===== CARRITO CON PERSISTENCIA =====
  let carrito = JSON.parse(localStorage.getItem("carrito")) || [];
  let contador = carrito.length;

  document.getElementById("contador-carrito").textContent = contador;

  function guardarCarrito() {
    localStorage.setItem("carrito", JSON.stringify(carrito));
  }

  function agregarAlCarrito(nombre, precio) {
    carrito.push({ nombre, precio });
    contador = carrito.length;
    document.getElementById("contador-carrito").textContent = contador;
    guardarCarrito();
    mostrarCarrito();
  }

  function mostrarCarrito() {
    const lista = document.getElementById("lista-carrito");
    const total = document.getElementById("total");

    lista.innerHTML = "";
    let suma = 0;

    carrito.forEach(p => {
      const li = document.createElement("li");
      li.textContent = p.nombre + " - $" + p.precio;
      lista.appendChild(li);
      suma += p.precio;
    });

    total.textContent = "Total: $" + suma;
  }

  // ===== COMPRAR POR WHATSAPP =====
  function comprar() {
    if (carrito.length === 0) {
      alert("El carrito est치 vac칤o");
      return;
    }

    let mensaje = "Hola! Quiero hacer este pedido:%0A%0A";
    let total = 0;

    carrito.forEach(p => {
      mensaje += "- " + p.nombre + " $" + p.precio + "%0A";
      total += p.precio;
    });

    mensaje += "%0ATotal: $" + total;

    // 游녤 CAMBI츼 ESTE N칔MERO POR EL TUYO
    const telefono = "5493575416164";

    const url = "https://wa.me/" + telefono + "?text=" + mensaje;
    window.open(url, "_blank");
  }

  mostrarCarrito();
</script>

</body>
</html>

